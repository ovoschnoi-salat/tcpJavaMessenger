# tcpJavaMessenger
## Решения
* Java - из-за учебы было пару дней на написание программ, 
поэтому пошел по легкому пути и решил писать на java. Так же благодаря этому программы получились кросс-платформенными.
  (при наличии большего времени использовал бы c++, тесты, к сожалению, не успел написать по той же причине)
* Так как сокеты используют TCP, 
то не пришлось заботиться о подтверждении получения сообщений и программы полагаются на то, 
что если метод отправки сообщений не выкинул исключение, то сообщение считается доставленным.
* Так как пользователей может быть много, 
то для каждого нового сокета заводится отдельный поток и ждать приходится только при обращении к общим полям.
* По-хорошему для мессенджера надо использовать noSQL базу данных, но если я правильно понял, 
то задание рассчитано не на это и я использовал HashMap для хранения данных о пользователях.
* API рассчитан на асинхронное получение и отправку сообщений, 
чтобы не возникало проблем с получением любых данных в любой момент и 
можно было остановить потоки-демоны слушающие сокеты при остановке основного потока сервера 
без дополнительной обработки получения ошибок при ожидании ответа
  (синхронные ответы ожидаются только при аутентификации).
* Для графического интерфейса клиента используется Swing, 
так как он уже есть в составе jdk и довольно прост в использовании.
## Запуск кода
* Для запуска достаточно запустить скрипт `jar.sh`, который создаст `client.jar` и `server.jar`,
которые можно запустить командой `java -jar *`
* jar-файлы уже созданы на случай наличия только JRE
* `server` ожидает запуск в формате `server [port]`, по-умолчанию порт будет 31337
* `client` ожидает запуск в формате `client [defaultHost [defaultPort]]`